# Environment Variables for Soltrace Docker Deployment
# Copy this file to .env and customize for your needs

# ========================================
# Solana RPC Configuration
# ========================================

# Solana HTTP RPC endpoint
# Used for: Program validation, historical backfill
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com

# Solana WebSocket endpoint
# Used for: Real-time event streaming
SOLANA_WS_URL=wss://api.mainnet-beta.solana.com

# Alternative RPC providers:
# - Helius: https://mainnet.helius-rpc.com
# - QuickNode: https://solana-mainnet.quiknode.com
# - Triton: https://api.mainnet-beta.solana.com (triton endpoint)
# ========================================

# ========================================
# Program Configuration
# ========================================

# Comma-separated list of program IDs to index
# Example: TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA,YourProgramId...
PROGRAM_IDS=

# ========================================
# Database Configuration
# ========================================

# Database connection URL
# Options:
# - SQLite: sqlite:./data/soltrace.db (default, local file)
# - PostgreSQL: postgresql://user:password@host:port/database
# - MongoDB: mongodb://user:password@host:port/database
#
# Examples:
# DB_URL=sqlite:./data/soltrace.db
# DB_URL=postgresql://postgres:password@localhost:5432/soltrace
# DB_URL=mongodb://localhost:27017/soltrace
DB_URL=sqlite:./data/soltrace.db

# IDL files directory (relative to container)
# Mount your IDL JSON files to /idls in docker-compose
IDL_DIR=/idls

# ========================================
# Live Indexer Configuration
# ========================================

# Commitment level for real-time indexing
# Options: processed, confirmed, finalized
# - processed: Fastest, may include unconfirmed transactions
# - confirmed: Recommended balance (default)
# - finalized: Slowest, only finalized transactions
COMMITMENT=confirmed

# Reconnection delay in seconds (if WebSocket connection drops)
RECONNECT_DELAY=5

# ========================================
# Backfill Configuration
# ========================================

# Number of signatures to fetch per program
LIMIT=1000

# Number of transactions to process in each batch
BATCH_SIZE=100

# Delay between batches in milliseconds
BATCH_DELAY=100

# ========================================
# Logging Configuration
# ========================================

# Log level: error, warn, info, debug, trace
LOG_LEVEL=info

# ========================================
# Advanced Configuration
# ========================================

# Optional: Custom RPC endpoint (overrides SOLANA_RPC_URL)
# CUSTOM_RPC_URL=

# Optional: Custom WebSocket endpoint (overrides SOLANA_WS_URL)
# CUSTOM_WS_URL=

# Optional: Maximum number of reconnection attempts
# MAX_RECONNECT_ATTEMPTS=10

# Optional: Enable debug mode (verbose logging)
# DEBUG=false
